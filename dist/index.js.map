{"version":3,"sources":["index.js"],"names":["debugBuilder","defaults","appNamespace","process","env","DH_APP_NAMESPACE","force","_options","config","options","forEach","debug","deb","enabled","namespace","name","definition","test","production","development","staging","error","info"],"mappings":"AAAA;;;;;kBAqBwBA,Y;;AApBxB;;;;AACA;;;;;;AAEA,IAAMC,WAAW;AACbC,kBAAcC,QAAQC,GAAR,CAAYC,gBADb;AAEbC,WAAO;AAFM,CAAjB;;AAKA,IAAIC,iBAAJ;;AAEAP,aAAaQ,MAAb,GAAsB,UAAUC,OAAV,EAAmB;AACrCF,eAAW,iBAAEN,QAAF,CAAW,EAAX,EAAeQ,OAAf,EAAwBR,QAAxB,CAAX;AACA,QAAIM,SAASD,KAAb,EAAoB;AAChB,yBAAEI,OAAF,CAAUV,aAAaW,KAAvB,EAA8B,UAAUC,GAAV,EAAe;AACzCA,gBAAIC,OAAJ,GAAc,IAAd;AACH,SAFD;AAGH;AACJ,CAPD;AAQAb,aAAaQ,MAAb,CAAoB,EAApB;;AAEe,SAASR,YAAT,CAAsBc,SAAtB,EAAiCR,KAAjC,EAAwC;AACnDQ,gBAAY,aAAa,OAAOA,SAApB,GAAgCA,SAAhC,GAA6CA,UAAUC,IAAV,IAAkBD,UAAUE,UAAV,CAAqBD,IAAhG;AACAD,gBAAeP,SAASL,YAAxB,SAAwCY,SAAxC;;AAEA,QAAIF,MAAM,qBAAME,SAAN,CAAV;AACA,QAAIR,SAASC,SAASD,KAAtB,EAA6B;AACzBM,YAAIC,OAAJ,GAAc,IAAd;AACH;AACD,WAAOD,GAAP;AACH;;AAEDZ,aAAaW,KAAb,GAAqB;AACjBM,UAAMjB,aAAa,MAAb,CADW;AAEjBkB,gBAAYlB,aAAa,YAAb,CAFK;AAGjBmB,iBAAanB,aAAa,aAAb,CAHI;AAIjBoB,aAASpB,aAAa,SAAb,CAJQ;AAKjBqB,WAAOrB,aAAa,OAAb,CALU;AAMjBsB,UAAMtB,aAAa,MAAb;AANW,CAArB","file":"index.js","sourcesContent":["\"use strict\"\nimport debug from \"debug\"\nimport _ from \"lodash\"\n\nconst defaults = {\n    appNamespace: process.env.DH_APP_NAMESPACE,\n    force: false\n}\n\nlet _options\n\ndebugBuilder.config = function (options) {\n    _options = _.defaults({}, options, defaults)\n    if (_options.force) {\n        _.forEach(debugBuilder.debug, function (deb) {\n            deb.enabled = true\n        })\n    }\n}\ndebugBuilder.config({})\n\nexport default function debugBuilder(namespace, force) {\n    namespace = \"string\" === typeof namespace ? namespace : (namespace.name || namespace.definition.name)\n    namespace = `${_options.appNamespace}:${namespace}`\n\n    let deb = debug(namespace)\n    if (force || _options.force) {\n        deb.enabled = true\n    }\n    return deb\n}\n\ndebugBuilder.debug = {\n    test: debugBuilder(\"test\"),\n    production: debugBuilder(\"production\"),\n    development: debugBuilder(\"development\"),\n    staging: debugBuilder(\"staging\"),\n    error: debugBuilder(\"error\"),\n    info: debugBuilder(\"info\")\n}"],"sourceRoot":"./"}