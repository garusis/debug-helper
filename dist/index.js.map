{"version":3,"sources":["index.js"],"names":["debugBuilder","defaults","appNamespace","process","env","DH_APP_NAMESPACE","force","_options","config","options","namespace","name","definition","deb","enabled","debug","test","production","development","staging","error","info"],"mappings":"AAAA;;;;;kBAgBwBA,Y;;AAfxB;;;;AACA;;;;;;AAEA,IAAMC,WAAW;AACbC,kBAAcC,QAAQC,GAAR,CAAYC,gBADb;AAEbC,WAAO;AAFM,CAAjB;;AAKA,IAAIC,iBAAJ;;AAEAP,aAAaQ,MAAb,GAAsB,UAAUC,OAAV,EAAmB;AACrCF,eAAW,iBAAEN,QAAF,CAAW,EAAX,EAAeQ,OAAf,EAAwBR,QAAxB,CAAX;AACH,CAFD;AAGAD,aAAaQ,MAAb,CAAoB,EAApB;;AAEe,SAASR,YAAT,CAAsBU,SAAtB,EAAiCJ,KAAjC,EAAwC;AACnDI,gBAAY,aAAa,OAAOA,SAApB,GAAgCA,SAAhC,GAA6CA,UAAUC,IAAV,IAAkBD,UAAUE,UAAV,CAAqBD,IAAhG;AACAD,gBAAeH,SAASL,YAAxB,SAAwCQ,SAAxC;;AAEA,QAAIG,MAAM,qBAAMH,SAAN,CAAV;AACA,QAAIJ,SAASC,SAASD,KAAtB,EAA6B;AACzBO,YAAIC,OAAJ,GAAc,IAAd;AACH;AACD,WAAOD,GAAP;AACH;;AAEDb,aAAae,KAAb,GAAqB;AACjBC,UAAMhB,aAAa,MAAb,CADW;AAEjBiB,gBAAYjB,aAAa,YAAb,CAFK;AAGjBkB,iBAAalB,aAAa,aAAb,CAHI;AAIjBmB,aAASnB,aAAa,SAAb,CAJQ;AAKjBoB,WAAOpB,aAAa,OAAb,CALU;AAMjBqB,UAAMrB,aAAa,MAAb;AANW,CAArB","file":"index.js","sourcesContent":["\"use strict\"\nimport debug from \"debug\"\nimport _ from \"lodash\"\n\nconst defaults = {\n    appNamespace: process.env.DH_APP_NAMESPACE,\n    force: false\n}\n\nlet _options\n\ndebugBuilder.config = function (options) {\n    _options = _.defaults({}, options, defaults)\n}\ndebugBuilder.config({})\n\nexport default function debugBuilder(namespace, force) {\n    namespace = \"string\" === typeof namespace ? namespace : (namespace.name || namespace.definition.name)\n    namespace = `${_options.appNamespace}:${namespace}`\n\n    let deb = debug(namespace)\n    if (force || _options.force) {\n        deb.enabled = true\n    }\n    return deb\n}\n\ndebugBuilder.debug = {\n    test: debugBuilder(\"test\"),\n    production: debugBuilder(\"production\"),\n    development: debugBuilder(\"development\"),\n    staging: debugBuilder(\"staging\"),\n    error: debugBuilder(\"error\"),\n    info: debugBuilder(\"info\")\n}"],"sourceRoot":"./"}